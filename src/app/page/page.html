<div class="book-page col-sm-12">
    <div>
        <h3>Page Block:</h3>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading clearfix">
            <span><b>Page:</b> {{::pageCtrl.pageName}}; <b>Title:</b> </span>
            <input  type="text"
                    class="edit-title"
                    ng-model="pageCtrl.page.title"
                    ng-disabled="!pageCtrl.$state.$current.includes['home.page.edit']"
                    ng-change="pageCtrl.pageChanged()"
                    >
            <div class="pull-right">
                <button type="button"
                        class="btn btn-primary btn-xs"
                        ng-if="pageCtrl.$state.$current.includes['home.page.edit']"
                        ng-click="pageCtrl.savePage()"
                        ng-disabled = "pageCtrl.isSaveDisabled"
                        >
                    <span class="glyphicon glyphicon-floppy-disk"></span> Save the Page
                </button>
                <button type="button"
                        class="btn btn-warning btn-xs"
                        ng-if="pageCtrl.$state.$current.includes['home.page.edit']"
                        ui-sref="home.page"
                        >
                    <span class="glyphicon glyphicon-floppy-remove"></span> Close Editor
                </button>
                <button type="button" class="btn btn-info btn-xs"
                        ui-sref="home.page.edit"
                        ng-if="!pageCtrl.$state.$current.includes['home.page.edit']">
                    <span class="glyphicon glyphicon-edit"></span> Edit the Page
                </button>
            </div>
        </div>
        <div class="panel-body">
                <div class="pages-wraper row">
                    <div ng-class="pageCtrl.$state.$current.includes['home.page.edit'] ? 'col-sm-6' : 'hidden'">
                        <ui-view></ui-view>
                    </div>
                    <div ng-class="pageCtrl.$state.$current.includes['home.page.edit'] ? 'col-sm-6' : 'col-sm-12'">
                        <div class="page-preview">
                            <h2>Preview:</h2>
                            <div btf-markdown="pageCtrl.page.text" style="flex: 1"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
